{"ast":null,"code":"import _slicedToArray from \"/Users/anshluthra/Downloads/covidrepo-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anshluthra/Downloads/covidrepo-main/src/components/Home.js\";\nimport { API_ROOT_URL } from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport useStickySWR from '../hooks/useStickySWR';\nimport { fetcher } from '../utils/commonFunctions';\nimport React from 'react';\nimport classnames from 'classnames';\nimport { useState, useRef, lazy, Suspense } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useLocation } from 'react-router-dom';\nimport { useLocalStorage, useSessionStorage, useWindowSize } from 'react-use';\nvar Actions = lazy(function () {\n  return import('./Actions');\n});\nvar Footer = lazy(function () {\n  return import('./Footer');\n});\nvar Level = lazy(function () {\n  return import('./Level');\n});\nvar LevelVaccinated = lazy(function () {\n  return import('./LevelVaccinated');\n});\nvar MapExplorer = lazy(function () {\n  return import('./MapExplorer');\n});\nvar MapSwitcher = lazy(function () {\n  return import('./MapSwitcher');\n});\nvar Minigraphs = lazy(function () {\n  return import('./Minigraphs');\n});\nvar Search = lazy(function () {\n  return import('./Search');\n});\nvar StateHeader = lazy(function () {\n  return import('./StateHeader');\n});\nvar Table = lazy(function () {\n  return import('./Table');\n});\nvar TimeseriesExplorer = lazy(function () {\n  return import('./TimeseriesExplorer');\n});\n\nfunction Home() {\n  var _useState = useState({\n    stateCode: 'TT',\n    districtName: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      regionHighlighted = _useState2[0],\n      setRegionHighlighted = _useState2[1];\n\n  var _useLocalStorage = useLocalStorage('anchor', null),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n      anchor = _useLocalStorage2[0],\n      setAnchor = _useLocalStorage2[1];\n\n  var _useLocalStorage3 = useLocalStorage('expandTable', false),\n      _useLocalStorage4 = _slicedToArray(_useLocalStorage3, 2),\n      expandTable = _useLocalStorage4[0],\n      setExpandTable = _useLocalStorage4[1];\n\n  var _useSessionStorage = useSessionStorage('mapStatistic', 'active'),\n      _useSessionStorage2 = _slicedToArray(_useSessionStorage, 2),\n      mapStatistic = _useSessionStorage2[0],\n      setMapStatistic = _useSessionStorage2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      date = _useState4[0],\n      setDate = _useState4[1];\n\n  var location = useLocation();\n\n  var _useStickySWR = useStickySWR(\"\".concat(API_ROOT_URL, \"/timeseries.min.json\"), fetcher, {\n    revalidateOnMount: true,\n    refreshInterval: 100000\n  }),\n      timeseries = _useStickySWR.data;\n\n  var _useStickySWR2 = useStickySWR(\"\".concat(API_ROOT_URL, \"/data\").concat(date ? \"-\".concat(date) : '', \".min.json\"), fetcher, {\n    revalidateOnMount: true,\n    refreshInterval: 100000\n  }),\n      data = _useStickySWR2.data;\n\n  var homeRightElement = useRef();\n  var isVisible = useIsVisible(homeRightElement);\n\n  var _useWindowSize = useWindowSize(),\n      width = _useWindowSize.width;\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"Coronavirus Outbreak in India - covid19india.org\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"title\",\n    content: \"Coronavirus Outbreak in India: Latest Map and Case Count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('home-left', {\n      expanded: expandTable\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  })), timeseries && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        minHeight: '56px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 35\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Actions, {\n    setDate: setDate,\n    dates: Object.keys(timeseries['TT']?.dates).reverse(),\n    date: date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative',\n      marginTop: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, data && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 35\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, width > 769 && /*#__PURE__*/React.createElement(MapSwitcher, {\n    mapStatistic: mapStatistic,\n    setMapStatistic: setMapStatistic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(Level, {\n    data: data['TT'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  })), timeseries && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 35\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Minigraphs, {\n    timeseries: timeseries['TT']?.dates,\n    date: date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }))), data && /*#__PURE__*/React.createElement(LevelVaccinated, {\n    data: data['TT'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 20\n    }\n  }), data && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    data: data,\n    regionHighlighted: regionHighlighted,\n    setRegionHighlighted: setRegionHighlighted,\n    expandTable: expandTable,\n    setExpandTable: setExpandTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('home-right', {\n      expanded: expandTable\n    }),\n    ref: homeRightElement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, (isVisible || location.hash) && /*#__PURE__*/React.createElement(React.Fragment, null, data && /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('map-container', {\n      expanded: expandTable\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(StateHeader, {\n    data: data['TT'],\n    stateCode: 'TT',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(MapExplorer, {\n    stateCode: \"TT\",\n    data: data,\n    mapStatistic: mapStatistic,\n    setMapStatistic: setMapStatistic,\n    regionHighlighted: regionHighlighted,\n    setRegionHighlighted: setRegionHighlighted,\n    anchor: anchor,\n    setAnchor: setAnchor,\n    expandTable: expandTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }))), timeseries && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TimeseriesExplorer, {\n    stateCode: \"TT\",\n    timeseries: timeseries,\n    date: date,\n    regionHighlighted: regionHighlighted,\n    setRegionHighlighted: setRegionHighlighted,\n    anchor: anchor,\n    setAnchor: setAnchor,\n    expandTable: expandTable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }))))), isVisible && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/anshluthra/Downloads/covidrepo-main/src/components/Home.js"],"names":["API_ROOT_URL","useIsVisible","useStickySWR","fetcher","React","classnames","useState","useRef","lazy","Suspense","Helmet","useLocation","useLocalStorage","useSessionStorage","useWindowSize","Actions","Footer","Level","LevelVaccinated","MapExplorer","MapSwitcher","Minigraphs","Search","StateHeader","Table","TimeseriesExplorer","Home","stateCode","districtName","regionHighlighted","setRegionHighlighted","anchor","setAnchor","expandTable","setExpandTable","mapStatistic","setMapStatistic","date","setDate","location","revalidateOnMount","refreshInterval","timeseries","data","homeRightElement","isVisible","width","expanded","minHeight","dates","Object","keys","reverse","position","marginTop","height","hash"],"mappings":"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","sourcesContent":["import {API_ROOT_URL} from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport useStickySWR from '../hooks/useStickySWR';\nimport {fetcher} from '../utils/commonFunctions';\nimport React from 'react';\nimport classnames from 'classnames';\nimport {useState, useRef, lazy, Suspense} from 'react';\nimport {Helmet} from 'react-helmet';\nimport {useLocation} from 'react-router-dom';\nimport {useLocalStorage, useSessionStorage, useWindowSize} from 'react-use';\n\nconst Actions = lazy(() => import('./Actions'));\nconst Footer = lazy(() => import('./Footer'));\nconst Level = lazy(() => import('./Level'));\nconst LevelVaccinated = lazy(() => import('./LevelVaccinated'));\nconst MapExplorer = lazy(() => import('./MapExplorer'));\nconst MapSwitcher = lazy(() => import('./MapSwitcher'));\nconst Minigraphs = lazy(() => import('./Minigraphs'));\nconst Search = lazy(() => import('./Search'));\nconst StateHeader = lazy(() => import('./StateHeader'));\nconst Table = lazy(() => import('./Table'));\nconst TimeseriesExplorer = lazy(() => import('./TimeseriesExplorer'));\n\nfunction Home() {\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    stateCode: 'TT',\n    districtName: null,\n  });\n\n  const [anchor, setAnchor] = useLocalStorage('anchor', null);\n  const [expandTable, setExpandTable] = useLocalStorage('expandTable', false);\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\n    'mapStatistic',\n    'active'\n  );\n  const [date, setDate] = useState('');\n  const location = useLocation();\n\n  const {data: timeseries} = useStickySWR(\n    `${API_ROOT_URL}/timeseries.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: 100000,\n    }\n  );\n\n  const {data} = useStickySWR(\n    `${API_ROOT_URL}/data${date ? `-${date}` : ''}.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: 100000,\n    }\n  );\n\n  const homeRightElement = useRef();\n  const isVisible = useIsVisible(homeRightElement);\n  const {width} = useWindowSize();\n\n  return (\n    <>\n      <Helmet>\n        <title>Coronavirus Outbreak in India - covid19india.org</title>\n        <meta\n          name=\"title\"\n          content=\"Coronavirus Outbreak in India: Latest Map and Case Count\"\n        />\n      </Helmet>\n\n      <div className=\"Home\">\n        <div className={classnames('home-left', {expanded: expandTable})}>\n          <div className=\"header\">\n            <Suspense fallback={<div />}>\n              <Search />\n            </Suspense>\n\n            {timeseries && (\n              <Suspense fallback={<div style={{minHeight: '56px'}} />}>\n                <Actions\n                  {...{\n                    setDate,\n                    dates: Object.keys(timeseries['TT']?.dates).reverse(),\n                    date,\n                  }}\n                />\n              </Suspense>\n            )}\n          </div>\n\n          <div style={{position: 'relative', marginTop: '1rem'}}>\n            {data && (\n              <Suspense fallback={<div style={{height: '50rem'}} />}>\n                {width > 769 && (\n                  <MapSwitcher {...{mapStatistic, setMapStatistic}} />\n                )}\n                <Level data={data['TT']} />\n              </Suspense>\n            )}\n\n            {timeseries && (\n              <Suspense fallback={<div style={{height: '50rem'}} />}>\n                <Minigraphs timeseries={timeseries['TT']?.dates} {...{date}} />\n              </Suspense>\n            )}\n          </div>\n\n          {data && <LevelVaccinated data={data['TT']} />}\n\n          {data && (\n            <Suspense fallback={<div />}>\n              <Table\n                {...{\n                  data,\n                  regionHighlighted,\n                  setRegionHighlighted,\n                  expandTable,\n                  setExpandTable,\n                }}\n              />\n            </Suspense>\n          )}\n        </div>\n\n        <div\n          className={classnames('home-right', {expanded: expandTable})}\n          ref={homeRightElement}\n        >\n          {(isVisible || location.hash) && (\n            <>\n              {data && (\n                <div\n                  className={classnames('map-container', {\n                    expanded: expandTable,\n                  })}\n                >\n                  <Suspense fallback={<div style={{height: '50rem'}} />}>\n                    <StateHeader data={data['TT']} stateCode={'TT'} />\n                    <MapExplorer\n                      stateCode=\"TT\"\n                      {...{data}}\n                      {...{mapStatistic, setMapStatistic}}\n                      {...{regionHighlighted, setRegionHighlighted}}\n                      {...{anchor, setAnchor}}\n                      {...{expandTable}}\n                    />\n                  </Suspense>\n                </div>\n              )}\n\n              {timeseries && (\n                <Suspense fallback={<div />}>\n                  <TimeseriesExplorer\n                    stateCode=\"TT\"\n                    {...{\n                      timeseries,\n                      date,\n                      regionHighlighted,\n                      setRegionHighlighted,\n                      anchor,\n                      setAnchor,\n                      expandTable,\n                    }}\n                  />\n                </Suspense>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      {isVisible && (\n        <Suspense fallback={<div />}>\n          <Footer />\n        </Suspense>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}