{"ast":null,"code":"import _objectSpread from \"/Users/anshluthra/Downloads/covidrepo-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/anshluthra/Downloads/covidrepo-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/anshluthra/Downloads/covidrepo-main/src/components/State.js\";\nimport { API_ROOT_URL, STATE_NAMES } from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport { fetcher, formatNumber, getStatistic } from '../utils/commonFunctions';\nimport React from 'react';\nimport classnames from 'classnames';\nimport { memo, useMemo, useState, useEffect, lazy, Suspense, useRef } from 'react';\nimport { Smile } from 'react-feather';\nimport { Helmet } from 'react-helmet';\nimport { useTranslation } from 'react-i18next';\nimport { useParams } from 'react-router-dom';\nimport { useSessionStorage } from 'react-use';\nimport useSWR from 'swr';\nvar DeltaBarGraph = lazy(function () {\n  return import('./DeltaBarGraph');\n});\nvar Footer = lazy(function () {\n  return import('./Footer');\n});\nvar Level = lazy(function () {\n  return import('./Level');\n});\nvar LevelVaccinated = lazy(function () {\n  return import('./LevelVaccinated');\n});\nvar MapExplorer = lazy(function () {\n  return import('./MapExplorer');\n});\nvar MapSwitcher = lazy(function () {\n  return import('./MapSwitcher');\n});\nvar Minigraphs = lazy(function () {\n  return import('./Minigraphs');\n});\nvar StateHeader = lazy(function () {\n  return import('./StateHeader');\n});\nvar StateMeta = lazy(function () {\n  return import('./StateMeta');\n});\nvar TimeseriesExplorer = lazy(function () {\n  return import('./TimeseriesExplorer');\n});\n\nfunction State() {\n  var _this = this;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  var stateCode = useParams().stateCode.toUpperCase();\n\n  var _useSessionStorage = useSessionStorage('mapStatistic', 'active'),\n      _useSessionStorage2 = _slicedToArray(_useSessionStorage, 2),\n      mapStatistic = _useSessionStorage2[0],\n      setMapStatistic = _useSessionStorage2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showAllDistricts = _useState2[0],\n      setShowAllDistricts = _useState2[1];\n\n  var _useState3 = useState({\n    stateCode: stateCode,\n    districtName: null\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      regionHighlighted = _useState4[0],\n      setRegionHighlighted = _useState4[1];\n\n  useEffect(function () {\n    if (regionHighlighted.stateCode !== stateCode) {\n      setRegionHighlighted({\n        stateCode: stateCode,\n        districtName: null\n      });\n      setShowAllDistricts(false);\n    }\n  }, [regionHighlighted.stateCode, stateCode]);\n\n  var _useSWR = useSWR(\"\".concat(API_ROOT_URL, \"/timeseries-\").concat(stateCode, \".min.json\"), fetcher, {\n    revalidateOnMount: true,\n    refreshInterval: 100000\n  }),\n      timeseries = _useSWR.data,\n      timeseriesResponseError = _useSWR.error;\n\n  var _useSWR2 = useSWR(\"\".concat(API_ROOT_URL, \"/data.min.json\"), fetcher, {\n    revalidateOnMount: true,\n    refreshInterval: 100000\n  }),\n      data = _useSWR2.data;\n\n  var toggleShowAllDistricts = function toggleShowAllDistricts() {\n    setShowAllDistricts(!showAllDistricts);\n  };\n\n  var handleSort = function handleSort(districtNameA, districtNameB) {\n    var districtA = data[stateCode].districts[districtNameA];\n    var districtB = data[stateCode].districts[districtNameB];\n    return getStatistic(districtB, 'total', mapStatistic) - getStatistic(districtA, 'total', mapStatistic);\n  };\n\n  var gridRowCount = useMemo(function () {\n    if (!data) return;\n    var gridColumnCount = window.innerWidth >= 540 ? 3 : 2;\n    var districtCount = data[stateCode]?.districts ? Object.keys(data[stateCode].districts).filter(function (districtName) {\n      return districtName !== 'Unknown';\n    }).length : 0;\n    var gridRowCount = Math.ceil(districtCount / gridColumnCount);\n    return gridRowCount;\n  }, [data, stateCode]);\n  var stateMetaElement = useRef();\n  var isStateMetaVisible = useIsVisible(stateMetaElement);\n  var trail = useMemo(function () {\n    var styles = [];\n    [0, 0, 0, 0].map(function (element, index) {\n      styles.push({\n        animationDelay: \"\".concat(index * 250, \"ms\")\n      });\n      return null;\n    });\n    return styles;\n  }, []);\n  var lookback = showAllDistricts ? window.innerWidth >= 540 ? 10 : 8 : 6;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Helmet, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, \"Coronavirus Outbreak in \", STATE_NAMES[stateCode], \" - covid19india.org\"), /*#__PURE__*/React.createElement(\"meta\", {\n    name: \"title\",\n    content: \"Coronavirus Outbreak in \".concat(STATE_NAMES[stateCode], \": Latest Map and Case Count\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"State\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"state-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StateHeader, {\n    data: data?.[stateCode],\n    stateCode: stateCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MapSwitcher, {\n    mapStatistic: mapStatistic,\n    setMapStatistic: setMapStatistic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Level, {\n    data: data?.[stateCode],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Minigraphs, {\n    timeseries: timeseries?.[stateCode]?.dates,\n    stateCode: stateCode,\n    forceRender: !!timeseriesResponseError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  })), data?.[stateCode]?.total?.vaccinated && /*#__PURE__*/React.createElement(LevelVaccinated, {\n    data: data?.[stateCode],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }), data && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        minHeight: '50rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MapExplorer, {\n    stateCode: stateCode,\n    data: data,\n    regionHighlighted: regionHighlighted,\n    setRegionHighlighted: setRegionHighlighted,\n    mapStatistic: mapStatistic,\n    setMapStatistic: setMapStatistic,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    ref: stateMetaElement,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }), isStateMetaVisible && data && /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StateMeta, {\n    stateCode: stateCode,\n    data: data,\n    timeseries: timeseries?.[stateCode]?.dates,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"state-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"district-bar\",\n    style: !showAllDistricts ? {\n      display: 'flex'\n    } : {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"district-bar-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"district-bar-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: classnames(mapStatistic, 'fadeInUp'),\n    style: trail[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 19\n    }\n  }, \"Top districts\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"districts fadeInUp \".concat(showAllDistricts ? 'is-grid' : ''),\n    style: showAllDistricts ? _objectSpread({\n      gridTemplateRows: \"repeat(\".concat(gridRowCount, \", 2rem)\")\n    }, trail[1]) : trail[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 19\n    }\n  }, Object.keys(data?.[stateCode]?.districts || {}).filter(function (districtName) {\n    return districtName !== 'Unknown';\n  }).sort(function (a, b) {\n    return handleSort(a, b);\n  }).slice(0, showAllDistricts ? undefined : 5).map(function (districtName) {\n    var total = getStatistic(data[stateCode].districts[districtName], 'total', mapStatistic);\n    var delta = getStatistic(data[stateCode].districts[districtName], 'delta', mapStatistic);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: districtName,\n      className: \"district\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 29\n      }\n    }, formatNumber(total)), /*#__PURE__*/React.createElement(\"h5\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 29\n      }\n    }, t(districtName)), mapStatistic !== 'active' && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"delta\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: mapStatistic,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 33\n      }\n    }, delta > 0 ? \"\\u2191\" + formatNumber(delta) : '')));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"district-bar-right fadeInUp\",\n    style: trail[2],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, timeseries && (mapStatistic === 'confirmed' || mapStatistic === 'deceased') && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"happy-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 23\n    }\n  }, Object.keys(timeseries[stateCode]?.dates || {}).slice(-lookback).every(function (date) {\n    return getStatistic(timeseries[stateCode].dates[date], 'delta', mapStatistic) === 0;\n  }) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert \".concat(mapStatistic === 'confirmed' ? 'is-green' : ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Smile, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 29\n    }\n  }, \"No new \", mapStatistic, \" cases in the past five days\"))), /*#__PURE__*/React.createElement(DeltaBarGraph, {\n    timeseries: timeseries?.[stateCode]?.dates,\n    statistic: mapStatistic,\n    stateCode: stateCode,\n    lookback: lookback,\n    forceRender: !!timeseriesResponseError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"district-bar-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 15\n    }\n  }, Object.keys(data?.[stateCode]?.districts || {}).length > 5 ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button fadeInUp\",\n    onClick: toggleShowAllDistricts,\n    style: trail[3],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 21\n    }\n  }, showAllDistricts ? \"View less\" : \"View all\")) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: '3.75rem',\n      flexBasis: '15%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(Suspense, {\n    fallback: /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 33\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TimeseriesExplorer, {\n    stateCode: stateCode,\n    timeseries: timeseries,\n    regionHighlighted: regionHighlighted,\n    setRegionHighlighted: setRegionHighlighted,\n    forceRender: !!timeseriesResponseError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default memo(State);","map":{"version":3,"sources":["/Users/anshluthra/Downloads/covidrepo-main/src/components/State.js"],"names":["API_ROOT_URL","STATE_NAMES","useIsVisible","fetcher","formatNumber","getStatistic","React","classnames","memo","useMemo","useState","useEffect","lazy","Suspense","useRef","Smile","Helmet","useTranslation","useParams","useSessionStorage","useSWR","DeltaBarGraph","Footer","Level","LevelVaccinated","MapExplorer","MapSwitcher","Minigraphs","StateHeader","StateMeta","TimeseriesExplorer","State","t","stateCode","toUpperCase","mapStatistic","setMapStatistic","showAllDistricts","setShowAllDistricts","districtName","regionHighlighted","setRegionHighlighted","revalidateOnMount","refreshInterval","timeseries","data","timeseriesResponseError","error","toggleShowAllDistricts","handleSort","districtNameA","districtNameB","districtA","districts","districtB","gridRowCount","gridColumnCount","window","innerWidth","districtCount","Object","keys","filter","length","Math","ceil","stateMetaElement","isStateMetaVisible","trail","styles","map","element","index","push","animationDelay","lookback","position","dates","total","vaccinated","minHeight","display","gridTemplateRows","sort","a","b","slice","undefined","delta","every","date","height","flexBasis"],"mappings":"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","sourcesContent":["import {API_ROOT_URL, STATE_NAMES} from '../constants';\nimport useIsVisible from '../hooks/useIsVisible';\nimport {fetcher, formatNumber, getStatistic} from '../utils/commonFunctions';\nimport React from 'react';\n\nimport classnames from 'classnames';\nimport {\n  memo,\n  useMemo,\n  useState,\n  useEffect,\n  lazy,\n  Suspense,\n  useRef,\n} from 'react';\nimport {Smile} from 'react-feather';\nimport {Helmet} from 'react-helmet';\nimport {useTranslation} from 'react-i18next';\nimport {useParams} from 'react-router-dom';\nimport {useSessionStorage} from 'react-use';\nimport useSWR from 'swr';\n\nconst DeltaBarGraph = lazy(() => import('./DeltaBarGraph'));\nconst Footer = lazy(() => import('./Footer'));\nconst Level = lazy(() => import('./Level'));\nconst LevelVaccinated = lazy(() => import('./LevelVaccinated'));\nconst MapExplorer = lazy(() => import('./MapExplorer'));\nconst MapSwitcher = lazy(() => import('./MapSwitcher'));\nconst Minigraphs = lazy(() => import('./Minigraphs'));\nconst StateHeader = lazy(() => import('./StateHeader'));\nconst StateMeta = lazy(() => import('./StateMeta'));\nconst TimeseriesExplorer = lazy(() => import('./TimeseriesExplorer'));\n\nfunction State() {\n  const {t} = useTranslation();\n\n  const stateCode = useParams().stateCode.toUpperCase();\n\n  const [mapStatistic, setMapStatistic] = useSessionStorage(\n    'mapStatistic',\n    'active'\n  );\n  const [showAllDistricts, setShowAllDistricts] = useState(false);\n  const [regionHighlighted, setRegionHighlighted] = useState({\n    stateCode: stateCode,\n    districtName: null,\n  });\n\n  useEffect(() => {\n    if (regionHighlighted.stateCode !== stateCode) {\n      setRegionHighlighted({\n        stateCode: stateCode,\n        districtName: null,\n      });\n      setShowAllDistricts(false);\n    }\n  }, [regionHighlighted.stateCode, stateCode]);\n\n  const {data: timeseries, error: timeseriesResponseError} = useSWR(\n    `${API_ROOT_URL}/timeseries-${stateCode}.min.json`,\n    fetcher,\n    {\n      revalidateOnMount: true,\n      refreshInterval: 100000,\n    }\n  );\n\n  const {data} = useSWR(`${API_ROOT_URL}/data.min.json`, fetcher, {\n    revalidateOnMount: true,\n    refreshInterval: 100000,\n  });\n\n  const toggleShowAllDistricts = () => {\n    setShowAllDistricts(!showAllDistricts);\n  };\n\n  const handleSort = (districtNameA, districtNameB) => {\n    const districtA = data[stateCode].districts[districtNameA];\n    const districtB = data[stateCode].districts[districtNameB];\n    return (\n      getStatistic(districtB, 'total', mapStatistic) -\n      getStatistic(districtA, 'total', mapStatistic)\n    );\n  };\n\n  const gridRowCount = useMemo(() => {\n    if (!data) return;\n    const gridColumnCount = window.innerWidth >= 540 ? 3 : 2;\n    const districtCount = data[stateCode]?.districts\n      ? Object.keys(data[stateCode].districts).filter(\n          (districtName) => districtName !== 'Unknown'\n        ).length\n      : 0;\n    const gridRowCount = Math.ceil(districtCount / gridColumnCount);\n    return gridRowCount;\n  }, [data, stateCode]);\n\n  const stateMetaElement = useRef();\n  const isStateMetaVisible = useIsVisible(stateMetaElement);\n\n  const trail = useMemo(() => {\n    const styles = [];\n\n    [0, 0, 0, 0].map((element, index) => {\n      styles.push({\n        animationDelay: `${index * 250}ms`,\n      });\n      return null;\n    });\n    return styles;\n  }, []);\n\n  const lookback = showAllDistricts ? (window.innerWidth >= 540 ? 10 : 8) : 6;\n\n  return (\n    <>\n      <Helmet>\n        <title>\n          Coronavirus Outbreak in {STATE_NAMES[stateCode]} - covid19india.org\n        </title>\n        <meta\n          name=\"title\"\n          content={`Coronavirus Outbreak in ${STATE_NAMES[stateCode]}: Latest Map and Case Count`}\n        />\n      </Helmet>\n\n      <div className=\"State\">\n        <div className=\"state-left\">\n          <StateHeader data={data?.[stateCode]} stateCode={stateCode} />\n\n          <div style={{position: 'relative'}}>\n            <MapSwitcher {...{mapStatistic, setMapStatistic}} />\n            <Level data={data?.[stateCode]} />\n            <Minigraphs\n              timeseries={timeseries?.[stateCode]?.dates}\n              {...{stateCode}}\n              forceRender={!!timeseriesResponseError}\n            />\n          </div>\n\n          {data?.[stateCode]?.total?.vaccinated && (\n            <LevelVaccinated data={data?.[stateCode]} />\n          )}\n\n          {data && (\n            <Suspense fallback={<div style={{minHeight: '50rem'}} />}>\n              <MapExplorer\n                {...{\n                  stateCode,\n                  data,\n                  regionHighlighted,\n                  setRegionHighlighted,\n                  mapStatistic,\n                  setMapStatistic,\n                }}\n              ></MapExplorer>\n            </Suspense>\n          )}\n\n          <span ref={stateMetaElement} />\n\n          {isStateMetaVisible && data && (\n            <Suspense fallback={<div />}>\n              <StateMeta\n                {...{\n                  stateCode,\n                  data,\n                }}\n                timeseries={timeseries?.[stateCode]?.dates}\n              />\n            </Suspense>\n          )}\n        </div>\n\n        <div className=\"state-right\">\n          <>\n            <div\n              className=\"district-bar\"\n              style={!showAllDistricts ? {display: 'flex'} : {}}\n            >\n              <div className=\"district-bar-top\">\n                <div className=\"district-bar-left\">\n                  <h2\n                    className={classnames(mapStatistic, 'fadeInUp')}\n                    style={trail[0]}\n                  >\n                    Top districts\n                  </h2>\n                  <div\n                    className={`districts fadeInUp ${\n                      showAllDistricts ? 'is-grid' : ''\n                    }`}\n                    style={\n                      showAllDistricts\n                        ? {\n                            gridTemplateRows: `repeat(${gridRowCount}, 2rem)`,\n                            ...trail[1],\n                          }\n                        : trail[1]\n                    }\n                  >\n                    {Object.keys(data?.[stateCode]?.districts || {})\n                      .filter((districtName) => districtName !== 'Unknown')\n                      .sort((a, b) => handleSort(a, b))\n                      .slice(0, showAllDistricts ? undefined : 5)\n                      .map((districtName) => {\n                        const total = getStatistic(\n                          data[stateCode].districts[districtName],\n                          'total',\n                          mapStatistic\n                        );\n                        const delta = getStatistic(\n                          data[stateCode].districts[districtName],\n                          'delta',\n                          mapStatistic\n                        );\n                        return (\n                          <div key={districtName} className=\"district\">\n                            <h2>{formatNumber(total)}</h2>\n                            <h5>{t(districtName)}</h5>\n                            {mapStatistic !== 'active' && (\n                              <div className=\"delta\">\n                                <h6 className={mapStatistic}>\n                                  {delta > 0\n                                    ? '\\u2191' + formatNumber(delta)\n                                    : ''}\n                                </h6>\n                              </div>\n                            )}\n                          </div>\n                        );\n                      })}\n                  </div>\n                </div>\n\n                <div className=\"district-bar-right fadeInUp\" style={trail[2]}>\n                  {timeseries &&\n                    (mapStatistic === 'confirmed' ||\n                      mapStatistic === 'deceased') && (\n                      <div className=\"happy-sign\">\n                        {Object.keys(timeseries[stateCode]?.dates || {})\n                          .slice(-lookback)\n                          .every(\n                            (date) =>\n                              getStatistic(\n                                timeseries[stateCode].dates[date],\n                                'delta',\n                                mapStatistic\n                              ) === 0\n                          ) && (\n                          <div\n                            className={`alert ${\n                              mapStatistic === 'confirmed' ? 'is-green' : ''\n                            }`}\n                          >\n                            <Smile />\n                            <div className=\"alert-right\">\n                              No new {mapStatistic} cases in the past five days\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  <DeltaBarGraph\n                    timeseries={timeseries?.[stateCode]?.dates}\n                    statistic={mapStatistic}\n                    {...{stateCode, lookback}}\n                    forceRender={!!timeseriesResponseError}\n                  />\n                </div>\n              </div>\n\n              <div className=\"district-bar-bottom\">\n                {Object.keys(data?.[stateCode]?.districts || {}).length > 5 ? (\n                  <button\n                    className=\"button fadeInUp\"\n                    onClick={toggleShowAllDistricts}\n                    style={trail[3]}\n                  >\n                    <span>{showAllDistricts ? `View less` : `View all`}</span>\n                  </button>\n                ) : (\n                  <div style={{height: '3.75rem', flexBasis: '15%'}} />\n                )}\n              </div>\n            </div>\n\n            <Suspense fallback={<div />}>\n              <TimeseriesExplorer\n                {...{\n                  stateCode,\n                  timeseries,\n                  regionHighlighted,\n                  setRegionHighlighted,\n                }}\n                forceRender={!!timeseriesResponseError}\n              />\n            </Suspense>\n          </>\n        </div>\n      </div>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default memo(State);\n"]},"metadata":{},"sourceType":"module"}